<html>
<head>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

<style>
body {
	width: 70%;
	margin: 0 auto;
}
</style>

<script>
var lines = {
	B: 'Bakerloo',
	C: 'Central',
	D: 'District',
	H: 'Hammersmith & Circle',
	J: 'Jubilee',
	M: 'Metropolitan',
	N: 'Northern',
	P: 'Piccadilly',
	V: 'Victoria',
	W: 'Waterloo & City'
};
    
var stations = {
	"BST": "Baker Street",
	"CHX": "Charing Cross",
	"ERB": "Edgware Road (Bakerloo)",
	"ELE": "Elephant and Castle",
	"EMB": "Embankment",
	"HSD": "Harlesden",
	"HAW": "Harrow and Wealdstone",
	"KGN": "Kensal Green",
	"KNT": "Kenton",
	"KPK": "Kilburn Park",
	"LAM": "Lambeth North",
	"MDV": "Maida Vale",
	"MYB": "Marylebone",
	"NWM": "North Wembley",
	"OXC": "Oxford Circus",
	"PAD": "Paddington",
	"PIC": "Piccadilly Circus",
	"QPK": "Queen's Park",
	"RPK": "Regent's Park",
	"SKT": "South Kenton",
	"SPK": "Stonebridge Park",
	"WAR": "Warwick Avenue",
	"WLO": "Waterloo",
	"WEM": "Wembley Central",
	"WJN": "Willesden Junction",
	"BNK": "Bank",
	"BDE": "Barkingside",
	"BNG": "Bethnal Green",
	"BDS": "Bond Street",
	"BHL": "Buckhurst Hill",
	"CYL": "Chancery Lane",
	"CHG": "Chigwell",
	"DEB": "Debden",
	"EBY": "Ealing Broadway",
	"EAC": "East Acton",
	"EPP": "Epping",
	"FLP": "Fairlop",
	"GHL": "Gants Hill",
	"GRH": "Grange Hill",
	"GFD": "Greenford",
	"HAI": "Hainault",
	"HLN": "Hanger Lane",
	"HOL": "Holborn",
	"HPK": "Holland Park",
	"LAN": "Lancaster Gate",
	"LEY": "Leyton",
	"LYS": "Leytonstone",
	"LST": "Liverpool Street",
	"LTN": "Loughton",
	"MAR": "Marble Arch",
	"MLE": "Mile End",
	"NEP": "Newbury Park",
	"NAC": "North Acton",
	"NHT": "Northolt",
	"NHG": "Notting Hill Gate",
	"PER": "Perivale",
	"QWY": "Queensway",
	"RED": "Redbridge",
	"ROD": "Roding Valley",
	"RUG": "Ruislip Gardens",
	"SBC": "Shepherd's Bush",
	"SNB": "Snaresbrook",
	"SRP": "South Ruislip",
	"SWF": "South Woodford",
	"STP": "St Paul's",
	"SFD": "Stratford",
	"THB": "Theydon Bois",
	"TCR": "Tottenham Court Road",
	"WAN": "Wanstead",
	"WAC": "West Acton",
	"WRP": "West Ruislip",
	"WCT": "White City",
	"WFD": "Woodford",
	"ACT": "Acton Town",
	"ALE": "Aldgate East",
	"BKG": "Barking",
	"BCT": "Barons Court",
	"BEC": "Becontree",
	"BLF": "Blackfriars",
	"BWR": "Bow Road",
	"BBB": "Bromley-by-Bow",
	"CST": "Cannon Street",
	"CHP": "Chiswick Park",
	"DGE": "Dagenham East",
	"DGH": "Dagenham Heathway",
	"ECM": "Ealing Common",
	"ECT": "Earl's Court",
	"EHM": "East Ham",
	"EPY": "East Putney",
	"ERD": "Edgware Road (H & C)",
	"EPK": "Elm Park",
	"FBY": "Fulham Broadway",
	"GRD": "Gloucester Road",
	"GUN": "Gunnersbury",
	"HMD": "Hammersmith (District and Picc)",
	"HST": "High Street Kensington",
	"HCH": "Hornchurch",
	"OLY": "Kensington (Olympia)",
	"KEW": "Kew Gardens",
	"MAN": "Mansion House",
	"MON": "Monument",
	"PGR": "Parsons Green",
	"PLW": "Plaistow",
	"PUT": "Putney Bridge",
	"RCP": "Ravenscourt Park",
	"RMD": "Richmond",
	"SSQ": "Sloane Square",
	"SKN": "South Kensington",
	"SFS": "Southfields",
	"SJP": "St. James's Park",
	"STB": "Stamford Brook",
	"STG": "Stepney Green",
	"TEM": "Temple",
	"THL": "Tower Hill",
	"TGR": "Turnham Green",
	"UPM": "Upminster",
	"UPB": "Upminster Bridge",
	"UPY": "Upney",
	"UPK": "Upton Park",
	"VIC": "Victoria",
	"WBT": "West Brompton",
	"WHM": "West Ham",
	"WKN": "West Kensington",
	"WMS": "Westminster",
	"WCL": "Whitechapel",
	"WDN": "Wimbledon",
	"WMP": "Wimbledon Park",
	"ALD": "Aldgate",
	"BAR": "Barbican",
	"ESQ": "Euston Square",
	"FAR": "Farringdon",
	"GPS": "Great Portland Street",
	"HMS": "Hammersmith",
	"KXX": "King's Cross St Pancras",
	"MGT": "Moorgate",
	"BER": "Bermondsey",
	"CWR": "Canada Water",
	"CWF": "Canary Wharf",
	"CNT": "Canning Town",
	"CPK": "Canons Park",
	"DHL": "Dollis Hill",
	"FRD": "Finchley Road",
	"GPK": "Green Park",
	"KIL": "Kilburn",
	"KBY": "Kingsbury",
	"LON": "London Bridge",
	"NEA": "Neasden",
	"NGW": "North Greenwich",
	"QBY": "Queensbury",
	"SWK": "Southwark",
	"SJW": "St John's Wood",
	"STA": "Stanmore",
	"SWC": "Swiss Cottage",
	"WPK": "Wembley Park",
	"WHD": "West Hampstead",
	"WLG": "Willesden Green",
	"AME": "Amersham",
	"CLF": "Chalfont and Latimer",
	"CWD": "Chorleywood",
	"CLW": "Colliers Wood",
	"CRX": "Croxley",
	"ETE": "Eastcote",
	"HOH": "Harrow on the Hill",
	"HDN": "Hillingdon",
	"ICK": "Ickenham",
	"MPK": "Moor Park",
	"NHR": "North Harrow",
	"NWP": "Northwick Park",
	"NWD": "Northwood",
	"NWH": "Northwood Hills",
	"PIN": "Pinner",
	"RLN": "Rayners Lane",
	"RKY": "Rickmansworth",
	"RUI": "Ruislip",
	"RUM": "Ruislip Manor",
	"UXB": "Uxbridge",
	"WAT": "Watford",
	"WHR": "West Harrow",
	"ANG": "Angel",
	"ARC": "Archway",
	"BAL": "Balham",
	"BPK": "Belsize Park",
	"BOR": "Borough",
	"BTX": "Brent Cross",
	"BUR": "Burnt Oak",
	"CTN": "Camden Town",
	"CHF": "Chalk Farm",
	"CPC": "Clapham Common",
	"CPN": "Clapham North",
	"CPS": "Clapham South",
	"COL": "Colindale",
	"EFY": "East Finchley",
	"EDG": "Edgware",
	"EUS": "Euston",
	"FYC": "Finchley Central",
	"GGR": "Golders Green",
	"GST": "Goodge Street",
	"HMP": "Hampstead",
	"HND": "Hendon Central",
	"HBT": "High Barnet",
	"HIG": "Highgate",
	"KEN": "Kennington",
	"KTN": "Kentish Town",
	"LSQ": "Leicester Square",
	"MHE": "Mill Hill East",
	"MOR": "Morden",
	"MCR": "Mornington Crescent",
	"OLD": "Old Street",
	"OVL": "Oval",
	"SWM": "South Wimbledon",
	"STK": "Stockwell",
	"TBE": "Tooting Bec",
	"TBY": "Tooting Broadway",
	"TOT": "Totteridge and Whetstone",
	"TPK": "Tufnell Park",
	"WST": "Warren Street",
	"WFY": "West Finchley",
	"WSP": "Woodside Park",
	"ALP": "Alperton",
	"AGR": "Arnos Grove",
	"ARL": "Arsenal",
	"BOS": "Boston Manor",
	"BGR": "Bounds Green",
	"CRD": "Caledonian Road",
	"CFS": "Cockfosters",
	"COV": "Covent Garden",
	"FPK": "Finsbury Park",
	"HTX": "Hatton Cross",
	"HTF": "Heathrow Terminal 4",
	"HRV": "Heathrow Terminal 5",
	"HRC": "Heathrow Terminals 123",
	"HRD": "Holloway Road",
	"HNC": "Hounslow Central",
	"HNE": "Hounslow East",
	"HNW": "Hounslow West",
	"HPC": "Hyde Park Corner",
	"KNB": "Knightsbridge",
	"MNR": "Manor House",
	"NEL": "North Ealing",
	"NFD": "Northfields",
	"OAK": "Oakwood",
	"OST": "Osterley",
	"PRY": "Park Royal",
	"RSQ": "Russell Square",
	"SEL": "South Ealing",
	"SHR": "South Harrow",
	"SGT": "Southgate",
	"SHL": "Sudbury Hill",
	"STN": "Sudbury Town",
	"TPL": "Turnpike Lane",
	"WGN": "Wood Green",
	"BHR": "Blackhorse Road",
	"BRX": "Brixton",
	"HBY": "Highbury and Islington",
	"PIM": "Pimlico",
	"SVS": "Seven Sisters",
	"TTH": "Tottenham Hale",
	"VUX": "Vauxhall",
	"WAL": "Walthamstow Central"	
};
 
 
 
 
var stationsOnLine = {
	B: ['BST', 'CHX', 'ERB', 'ELE', 'EMB', 'HSD', 'HAW', 'KGN', 'KNT', 'KPK', 'LAM', 'MDV', 'MYB', 'NWM', 'OXC', 'PAD', 'PIC', 'QPK', 'RPK', 'SKT', 'SPK', 'WAR', 'WLO', 'WEM', 'WJN'],
	C: ['BNK', 'BDE', 'BNG', 'BDS', 'BHL', 'CYL', 'CHG', 'DEB', 'EBY', 'EAC', 'EPP', 'FLP', 'GHL', 'GRH', 'GFD', 'HAI', 'HLN', 'HOL', 'HPK', 'LAN', 'LEY', 'LYS', 'LST', 'LTN', 'MAR', 'MLE', 'NEP', 'NAC', 'NHT', 'NHG', 'OXC', 'PER', 'QWY', 'RED', 'ROD', 'RUG', 'SBC', 'SNB', 'SRP', 'SWF', 'STP', 'SFD', 'THB', 'TCR', 'WAN', 'WAC', 'WRP', 'WCT', 'WFD'],
	D: ['ACT', 'ALE', 'BKG', 'BCT', 'BEC', 'BLF', 'BWR', 'BBB', 'CST', 'CHP', 'DGE', 'DGH', 'EBY', 'ECM', 'ECT', 'EHM', 'EPY', 'ERD', 'EPK', 'EMB', 'FBY', 'GRD', 'GUN', 'HMD', 'HST', 'HCH', 'OLY', 'KEW', 'MAN', 'MLE', 'MON', 'OLY', 'PGR', 'PLW', 'PUT', 'RCP', 'RMD', 'SSQ', 'SKN', 'SFS', 'SJP', 'STB', 'STG', 'TEM', 'THL', 'TGR', 'UPM', 'UPB', 'UPY', 'UPK', 'VIC', 'WBT', 'WHM', 'WKN', 'WMS', 'WCL', 'WDN', 'WMP'],
	H: ['ALD', 'ALE', 'BST', 'BAR', 'BKG', 'BLF', 'BWR', 'BBB', 'CST', 'EHM', 'ERD', 'EMB', 'ESQ', 'FAR', 'GRD', 'GPS', 'HMS', 'HST', 'KXX', 'LST', 'MAN', 'MLE', 'MON', 'MGT', 'PAD', 'PLW', 'SSQ', 'SKN', 'SJP', 'STG', 'TEM', 'THL', 'UPK', 'VIC', 'WHM', 'WMS', 'WCL'],
	J: ['BST', 'BER', 'BDS', 'CWR', 'CWF', 'CNT', 'CPK', 'DHL', 'FRD', 'GPK', 'KIL', 'KBY', 'LON', 'NEA', 'NGW', 'QBY', 'SWK', 'SJW', 'STA', 'SFD', 'SWC', 'WLO', 'WPK', 'WHM', 'WHD', 'WMS', 'WLG'],
	M: ['ALD', 'AME', 'BST', 'BAR', 'CLF', 'CWD', 'CLW', 'CRX', 'ETE', 'ESQ', 'FAR', 'FRD', 'GPS', 'HOH', 'HDN', 'ICK', 'KXX', 'LST', 'MPK', 'MGT', 'NHR', 'NWP', 'NWD', 'NWH', 'PIN', 'RLN', 'RKY', 'RUI', 'RUM', 'UXB', 'WAT', 'WPK', 'WHR'], 
	N: ['ANG', 'ARC', 'BAL', 'BNK', 'BPK', 'BOR', 'BTX', 'BUR', 'CTN', 'CHF', 'CHX', 'CPC', 'CPN', 'CPS', 'COL', 'CLW', 'EFY', 'EDG', 'ELE', 'EMB', 'EUS', 'FYC', 'GGR', 'GST', 'HMP', 'HND', 'HBT', 'HIG', 'KEN', 'KTN', 'KXX', 'LSQ', 'LON', 'MHE', 'MGT', 'MOR', 'MCR', 'OLD', 'OVL', 'SWM', 'STK', 'TBE', 'TBY', 'TCR', 'TOT', 'TPK', 'WST', 'WLO', 'WFY', 'WSP'], 
	P: ['ACT', 'ALP', 'AGR', 'ARL', 'BCT', 'BOS', 'BGR', 'CRD', 'CFS', 'COV', 'ECM', 'ECT', 'ETE', 'FPK', 'GRD', 'GPK', 'HMD', 'HTX', 'HTF', 'HRV', 'HRC', 'HDN', 'HOL', 'HRD', 'HNC', 'HNE', 'HNW', 'HPC', 'ICK', 'KXX', 'KNB', 'LSQ', 'MNR', 'NEL', 'NFD', 'OAK', 'OST', 'PRY', 'PIC', 'RLN', 'RUI', 'RUM', 'RSQ', 'SEL', 'SHR', 'SKN', 'SGT', 'SHL', 'STN', 'TGR', 'TPL', 'UXB', 'WGN'],
	V: ['BHR', 'BRX', 'EUS', 'FPK', 'GPK', 'HBY', 'KXX', 'OXC', 'PIM', 'SVS', 'STK', 'TTH', 'VUX', 'VIC', 'WAL', 'WST'],
	W: ['BNK', 'WLO']
};

$( document ).ready(function() {
    $.each( lines, function( key, value ) {
  		$("#line").append('<option value="'+key+'">'+value+'</option>');
	});
});

function SelectLine(){
	if($("#line").val()=='') {alert('Select line'); return;}
	$("#station").html('');
	var obj = stationsOnLine[$("#line").val()];
	$.each( obj, function( key, value ) {
		var name = stations[value];
  		$("#station").append('<option value="'+value+'">'+name+'</option>');
	});
}
function SelectStation(){
	if($("#station").val()=='') {alert('Select station'); return;}
	var list = stationsOnLine[$("#line").val()];
	var key = $("#station").val();
	var pos = list.indexOf(key);
	if(pos==list.length-1) $("#result").html(stations[key]+' is the last station on the line '+lines[$("#line").val()]);
	else $("#result").html(stations[list[pos+1]]+' is the station after '+stations[key]+' on the line '+lines[$("#line").val()]);
}

</script>
</head>
<body>
<center>
<br />
<h2>London Tube Data</h2>
<br />
<select class="form-control" id="line" onchange="SelectLine();">
    <option value="" default selected>Select Line</option>
</select><br />
  <select class="form-control" id="station" onchange="SelectStation();">
    <option value="" default selected>Select Station</option>
  </select>
<br />
<p id="result"></p>
</center>
</body>
</html>